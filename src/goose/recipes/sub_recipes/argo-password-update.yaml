version: 1.0.0
title: Update ArgoCD initial password
description: Update the ArgoCD password from the initial admin password.
instructions: The instructions provided detail a process involving the retrieval of an initial admin password sourced from a Kubernetes secret, followed by logging into a CLI tool (in this case, ArgoCD) using that password. The password is then updated to a new value specified via an environment variable. These steps rely on chaining shell commands and using output from one step as input to the next. The approach is generic and can be adapted to similar tasks where secure credentials are fetched, verified, and then updated using command-line interfaces. Ensure any formatted output and shell commands adhere to specified output and tools formats.
prompt: |
  Run this to reset the value of the argocd admin password from the initial value stored in the "password" field of the argocd-initial-admin-secret secret in the argocd namespace. The new value of the password will be the value of the ARGOCD_PASSWORD environment variable. The argocd URL can be found from the environment variable ARGOCD_BASE_URL. Use the argocd cli to change the password.

  Summarize results.
extensions:
- type: builtin
  name: developer
  display_name: Developer Tools
  description: null
  timeout: 300
  bundled: true
  available_tools: []

activities:
- Retrieve secret
- Login via CLI
- Update password
- Chain shell commands
- Use environment variables
author:
  contact: vscode
