version: 1.0.0
title: Bootstrap ArgoCD.
description: Bootstrap ArgoCD for use.
instructions: The task includes steps to bootstrap argocd, preparing the environment for use. It includes setting up port-forwarding, resetting the argocd password from the initial password

sub_recipes:
  - name: "port_forward"
    path: "./sub_recipes/port-forward.yaml"
  - name: "cli_install"
    path: "./sub_recipes/argo-cli.yaml"
    values:
      target_directory: "~/.local/bin"
      cli_name: "argocd"
  - name: "password_update"
    path: "./sub_recipes/argo-password-update.yaml"

extensions:
- type: builtin
  name: developer
  display_name: Developer Tools
  description: null
  timeout: 300
  bundled: true
  available_tools: []

prompt: |
  Prepare the argocd environment by running the sub-recipes sequentially. Run the sub-recipes in this order: port_forward, cli_install, password_update. Summarize results after each sub-recipe executes, and then summarize overall results.

# settings:
#   goose_provider: github_copilot
#   goose_model: gpt-4o
#   temperature: 0.0
# activities:
# - Log into ArgoCD CLI using environment variables
# - Patch ArgoCD config for account capabilities
# - Generate an ArgoCD API token
# - Validate and restart ArgoCD server
author:
  contact: avillela
