version: 1.0.0
title: Bootstrap ArgoCD.
description: Bootstrap ArgoCD for use.
instructions: |
  
  ## Role
  
  Use role from `.goosehints`.
  
sub_recipes:
  - name: "port_forward"
    path: "./sub_recipes/port-forward.yaml"
    values:
      forward_port: "9080"
      context_name: "{{ context_name }}"
  - name: "cli_install"
    path: "./sub_recipes/argocd-cli-install.yaml"
    values:
      target_directory: "~/.local/bin"
      cli_name: "argocd"
  - name: "password_update"
    path: "./sub_recipes/argocd-password-update.yaml"
    values:
      context_name: "{{ context_name }}"

parameters:
  - key: context_name
    input_type: string
    requirement: required
    default: "otel"
    description: "k8s context name"

extensions:
- type: builtin
  name: developer
  display_name: Developer Tools
  description: null
  timeout: 300
  bundled: true
  available_tools: []

prompt: |

  ## Objective

  Prepare the ArgoCD environment by running the sub-recipes sequentially.

  Sub-recipe order: 
    1. port_forward
    2. cli_install
    3. password_update

  ## Output

  * Format output per "Output Guidelines" from `.goosehints`. Include only:
    - Recipe name
    - Recipe-specific output fields
    - Recipe execution status

settings:
  goose_provider: github_copilot
  # goose_model: claude-sonnet-4.5
  temperature: 0.5
author:
  contact: avillela
