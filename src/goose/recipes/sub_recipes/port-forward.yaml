version: 1.0.0
title: ArgoCD port forward
description: Create an ArgoCD port forward
instructions: |
  
  Your job is to create a port forward that runs in the background.

prompt: |
  
  ## Role

  You are a site reliability engineer. Your role is to:
  * Create Kubernetes clusters
  * Configure Kubernetes clusters. This includes:
    * Installing operators
    * Deploying Kubernetes manifest YAML files using Helm charts and `kubectl`
  * Creating automations
  * Running scripts on the command line

  ## Objectives
  
  Create a kubernetes port forward that runs in the background, to enable access to the ArgoCD admin console.

  Steps:
  1. Check to see if there is a port-forward currently running on port {{ forward_port }}. If there is an existing port-forward, abort.
  2. Run this command:
  
    ```bash
    nohup kubectl port-forward svc/argocd-server -n argocd {{ forward_port }}:443 > portforward.log 2>&1 &
    ```

  ## Output

  Upon completion, print of the following as per the "Output Guidelines" in `.goosehints`:
  * Status of port-forward (success/failed)
  * Name of port being forwarded
  * Command used for port-forward (if the port-forward was successful)

parameters:
  - key: forward_port
    input_type: string
    requirement: required
    default: "9080"
    description: "ArgoCD port forward"

extensions:
- type: builtin
  name: developer
  display_name: Developer Tools
  description: null
  timeout: 300
  bundled: true
  available_tools: []

settings:
  goose_provider: github_copilot
  # goose_model: claude-sonnet-4.5
  temperature: 0.5
author:
  contact: avillela
