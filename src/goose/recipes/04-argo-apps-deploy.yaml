version: 1.0.0
title: 
description: Deploy ArgoCD apps
instructions: |

  ## Role
  
  Use role from `.goosehints`.

sub_recipes:
  - name: "port_forward"
    path: "./sub_recipes/port-forward.yaml"
    values:
      forward_port: "9080"
      context_name: "{{ context_name }}"
  - name: "argo_repo_proj_setup"
    path: "./sub_recipes/argo-repo-proj-setup.yaml"
    values:
      ssh_pk_path: "~/.ssh/id_ed25519"
      context_name: "{{ context_name }}"
  - name: "deply_otel_demo"
    path: "./sub_recipes/deploy-otel-demo.yaml"
    values:
      context_name: "{{ context_name }}"

prompt: |

  ## Objective
 
  Use ArgoCD to manage the deployment of the OpenTelemetry Demo on Kubernetes by running the sub-recipes sequentially.
  
  Sub-recipe order:
  1. port_forward
  2. argo_repo_proj_setup
  3. deply_otel_demo

  ## Output

  Summarize results after each sub-recipe executes, and then summarize overall results as per the "Output Guidelines" in `.goosehints`.

parameters:
  - key: context_name
    input_type: string
    requirement: required
    default: "otel"
    description: "k8s context name"

extensions:
- type: builtin
  name: developer
  display_name: Developer Tools
  description: null
  timeout: 300
  bundled: true
  available_tools: []

settings:
  goose_provider: github_copilot
  # goose_model: claude-sonnet-4.5
  temperature: 0.5
author:
  contact: avillela
